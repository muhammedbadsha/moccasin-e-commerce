
{% load static %}

<!-- Modal1 -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
   <style>
    .modal-dialog{
      width: 16rem;
      height: auto;
      background-color: aquamarine;

      }
    </style>
  <link rel="stylesheet" href="{% static 'css/view_prduct.css' %}">
  </head>
  
</head> 
<body>
  <form hx-get="{{ request.path}}" class="modal-dialog bg-light">
    
      
        <div class="modal-header">
          <h5 class="modal-title" id="quickViewModalLabel">{{products_view.product_name}}</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <!-- Quick view content will be loaded here -->
          <div class="modal_bodys">
            <div class="image_div">
          <img src="{{products_view.image.url}}" width="70" height="70" class="" alt="">
          </div>
          <div class="content_div">
          {{products_view.discription}}
          {{products_view.size_chart}}
          {{products_view.price}}
          {{products_view.stock}}
          {{products_view.product_gen}}
          </div>
          </div>
        </div>
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
          Cancel
        </button>
    </form>
      <script>
       // {% comment %} const modal = new bootstrap.Modal(document.getElementById("dialog1")) {% endcomment %}
      
      htmx.on("htmx:afterSwap", (e) => {
        console.log("this world")
        // Response targeting #dialog => show the modal
        console.log('htmx:afterSwap',e)
        if (e.detail.target.id == "modalQuickView") {
          console.log("this acctual work")
          modal.show()
          console.log("afterSwap")
        }
      })
      htmx.on("htmx:beforeSwap", (e) => {
        if(e.detail.target.id == "modalQuickView" && !e.detail.xhr.response)
        modal.hide()
      })
      </script>
</body>
</html>

